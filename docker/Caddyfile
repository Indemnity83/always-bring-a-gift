{
	# Disable admin endpoint
	admin off

	# Disable automatic HTTPS
	auto_https off

	# Disable persisting config
	persist_config off

	# Use writable storage location
	storage file_system {
		root /app/storage/caddy
	}
}

:8000 {
	root * /app/public

	# Performance optimizations
	# See: https://frankenphp.dev/docs/performance/
	resolve_root_symlink false

	php_server {
		# Adjust num_threads based on available memory
		# Rule: num_threads x memory_limit < available_memory
		# With 512M memory_limit and ~2GB available: 3 threads
		num_threads 3
	}
}
